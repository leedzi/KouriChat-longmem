注意：这是 KouriChat 项目的一个非官方修改版。

这个版本的主要改动是将会话记忆系统从原版（v1.3.9后）的“短期记忆 + 10轮刷新核心记忆”模式，恢复为类似于旧版（v1.3.7及之前）的“短期记忆（达到阈值后总结） + 累积型长期记忆”模式。

核心变化点：

对话不再是每10轮刷新核心记忆，而是当短期记忆达到一定长度（约15轮对话/30行）时触发一次总结。
产生的记忆总结会追加到一个长期记忆缓冲区文件中，不断累积，而不是覆盖掉旧的核心记忆。
目的是为了实现更长久、更不容易丢失的对话记忆。
如何实现：

主要修改了 modules/memory/memory_service.py 文件。
为了尽可能保持与新版代码结构的兼容性，保留了原有的函数名（如 update_core_memory, get_core_memory），但其内部逻辑已被替换为旧版的总结、追加和检索（部分模拟）功能。

请注意：
get_core_memory 函数现在返回的是长期记忆缓冲区中最近一次生成的记忆总结，这是一个为了兼容性而采取的折衷方案，它不完全等同于旧版按需检索最相关记忆的行为（相关检索逻辑已添加为 get_relevant_memories 方法，但需要项目其他部分调用才能生效）。
此修改可能与 KouriChat 官方的未来更新不兼容。

原始项目仓库： https://github.com/KouriChat/KouriChat
